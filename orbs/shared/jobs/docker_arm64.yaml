description: Build an ARM64 Docker image.
executor:
  name: testbed-machine
resource_class: arm.xlarge
parameters:
  checkout_submodules:
    type: boolean
    description: Whether to update submodules in the repo.
    default: false
  push_registries:
    type: string
    description: Space-separated list of registries to push the Docker image to.
    default: ""
steps:
  - add_ssh_keys
  - setup_docker_auth:
      checkout_submodules: << parameters.checkout_submodules >>
      push_registries: << parameters.push_registries >>
  - build_docker_image:
      arch: arm64
